<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			window.onload = function(){
				var btn = document.getElementById("btn");
				var tab = document.getElementById("tab");
				var s = 0 ;
				btn.onclick = function(){
					
					function createXHR() {
				        //IE7+ 谷歌, 火狐, Safari等
				        if (window.XMLHttpRequest) {
				                return new XMLHttpRequest();
				        }
				        //IE6
				        return new ActiveXObject("Microsoft.XMLHTTP");
					}
					var xhr = createXHR();
					xhr.onreadystatechange = function(){
						if(xhr.readyState==4 && xhr.status==200){
							console.log(xhr.responseText);
							var res = JSON.parse(xhr.responseText);
							console.log(res);
							console.log(res[0].name);
							//for(var i=0;i<res.length;i++){
								if(s==res.length){
									return;
								}
								var tr0 = document.createElement("tr");
								var td1 = document.createElement("td");
								var td2 = document.createElement("td");
								var td3 = document.createElement("td");
								var td4 = document.createElement("td");
								var td5 = document.createElement("td");
								var td6 = document.createElement("td");
								td1.innerHTML = res[s].name;
								td2.innerHTML = res[s].age;
								td3.innerHTML = res[s].sex;
								td4.innerHTML = res[s].phone;
								td5.innerHTML = res[s].address;
								td6.innerHTML = res[s].qq;
								tr0.setAttribute("align","center");
								tr0.appendChild(td1);
								tr0.appendChild(td2);
								tr0.appendChild(td3);
								tr0.appendChild(td4);
								tr0.appendChild(td5);
								tr0.appendChild(td6);
								tab.appendChild(tr0);
							//}
								s++;
						}
					}
					xhr.open("get","js/person.json",true);
					xhr.send(null);	
				}
			}
		</script>
	</head>
	<body>
		<button id="btn">加载数据</button>
		<table id="tab" border="1" width="500">
			<tr>
				<th>name</th>
				<th>age</th>
				<th>sex</th>
				<th>phone</th>
				<th>address</th>
				<th>qq</th>
			</tr>
		</table>
	</body>
</html>
